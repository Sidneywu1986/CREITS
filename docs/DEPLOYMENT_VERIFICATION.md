# 📋 部署验证清单

使用此清单验证部署是否成功。

## 🚀 快速验证（5 分钟）

### 1. 检查 Coze 平台状态

登录 Coze 平台，检查以下内容：

- [ ] **构建状态**: ✅ 成功
- [ ] **部署状态**: ✅ 运行中
- [ ] **健康检查**: ✅ 健康

### 2. 查看日志

在 Coze 平台的日志页面：

- [ ] 查找 `Environment variables check passed`
- [ ] 查找 `Starting HTTP service on port 5000`
- [ ] 查找 `ready - started server on 0.0.0.0:5000`
- [ ] 无严重错误日志（Error）

### 3. 测试访问

- [ ] 复制 Coze 分配的访问地址
- [ ] 在浏览器中打开
- [ ] 页面正常显示
- [ ] 无 404 或 500 错误

---

## 🔍 详细验证

### A. 构建验证

#### 构建日志检查

```
✓ Compiled successfully
Build completed successfully!
```

如果看到这些信息，说明构建成功。

#### 常见构建错误

```
Error: Cannot find module 'xxx'
```
- 解决方案：检查 `package.json` 是否包含该依赖

```
TypeScript error: xxx
```
- 解决方案：修复 TypeScript 错误

### B. 部署验证

#### 启动日志检查

```
[INFO] Environment variables check passed
[INFO] Starting HTTP service on port 5000
ready - started server on 0.0.0.0:5000, url: http://localhost:5000
```

如果看到这些信息，说明服务启动成功。

#### 常见启动错误

```
❌ NEXT_PUBLIC_SUPABASE_URL is not set
```
- 解决方案：在 Coze 平台配置环境变量

```
❌ Database connection failed
```
- 解决方案：检查 Supabase 凭证是否正确

### C. 功能验证

#### 基本功能测试

- [ ] **首页加载**: 页面可正常访问
- [ ] **静态资源**: CSS、JS 文件正常加载
- [ ] **无控制台错误**: 打开浏览器开发者工具，Console 无红色错误

#### API 功能测试

- [ ] **健康检查**: 访问 `/api/health`（如果有）
- [ ] **数据库连接**: 应用可连接到 Supabase
- [ ] **数据查询**: 可以查询数据库数据

---

## 📊 性能验证

### 响应时间

- [ ] **首页加载时间**: < 3 秒
- [ ] **API 响应时间**: < 1 秒
- [ ] **页面交互流畅**: 无明显卡顿

### 资源使用

- [ ] **CPU 使用率**: < 80%
- [ ] **内存使用**: < 2GB
- [ ] **磁盘使用**: 正常

---

## 🔒 安全验证

### 环境变量

- [ ] 环境变量已配置
- [ ] 环境变量未在代码中暴露
- [ ] 敏感信息未泄露

### 网络安全

- [ ] 使用 HTTPS（Coze 自动提供）
- [ ] 无安全头警告
- [ ] CORS 配置正确

---

## 📝 验证结果

### 成功标志

如果满足以下所有条件，说明部署成功：

- ✅ 构建状态：成功
- ✅ 部署状态：运行中
- ✅ 健康检查：健康
- ✅ 页面可访问
- ✅ 无严重错误
- ✅ 功能正常

### 失败标志

如果出现以下情况，说明部署失败：

- ❌ 构建失败
- ❌ 服务未启动
- ❌ 页面无法访问
- ❌ 严重错误日志
- ❌ 功能异常

---

## 🆘 问题诊断

### 如果验证失败

#### 1. 构建失败

**症状**: 构建状态显示失败

**检查**:
- 查看构建日志
- 确认依赖安装成功
- 验证 TypeScript 无错误

**解决**:
- 修复代码错误
- 重新触发构建

#### 2. 部署失败

**症状**: 服务未启动或启动后停止

**检查**:
- 查看部署日志
- 确认环境变量已配置
- 验证 Supabase 连接

**解决**:
- 检查环境变量配置
- 验证 Supabase 凭证
- 重新触发部署

#### 3. 页面无法访问

**症状**: 浏览器显示错误或 404

**检查**:
- 确认服务状态为"运行中"
- 验证访问地址正确
- 查看服务日志

**解决**:
- 检查服务状态
- 确认访问地址
- 查看错误日志

---

## 📞 需要帮助？

如果验证失败，请提供以下信息：

1. **验证失败的步骤**
   - 例如："在步骤 2 查看日志时发现错误"

2. **错误信息**
   - 复制完整的错误日志

3. **您看到的现象**
   - 例如："页面显示 404 Not Found"

4. **您已做的操作**
   - 例如："我已经重新配置了环境变量"

我会根据这些信息帮您诊断问题！

---

## ✅ 验证完成

如果所有验证项都通过，恭喜您！🎉

**部署成功！**

现在您可以：
- 🌐 通过 Coze 分配的地址访问应用
- 📊 配置监控和告警
- 🚀 开始使用 REITs 智能助手
- 🔄 继续开发和迭代

---

## 📚 相关文档

- [Coze 平台部署操作指南](./COZE_PLATFORM_STEPS.md)
- [Coze 快速开始](./COZE_QUICK_START.md)
- [Coze 部署完整指南](./COZE_DEPLOYMENT.md)
- [部署检查清单](./DEPLOYMENT_CHECKLIST.md)
