# æ•…éšœæ’æŸ¥æŒ‡å— - åŠ è½½é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ” é—®é¢˜è¯Šæ–­

è¯·å‘Šè¯‰æˆ‘ä½ é‡åˆ°çš„å…·ä½“é—®é¢˜ï¼š

### å¯èƒ½çš„é—®é¢˜ç±»å‹

1. **æ— æ³•ä¸‹è½½ ZIP æ–‡ä»¶** - ä¸‹è½½å¤±è´¥æˆ–æ–‡ä»¶æŸå
2. **è§£å‹å¤±è´¥** - ZIP æ–‡ä»¶æ— æ³•è§£å‹
3. **å®‰è£…ä¾èµ–å¤±è´¥** - `pnpm install` æŠ¥é”™
4. **å¯åŠ¨æœåŠ¡å™¨å¤±è´¥** - `pnpm dev` æˆ– `coze dev` æŠ¥é”™
5. **é¡µé¢åŠ è½½å¤±è´¥** - æµè§ˆå™¨æ— æ³•è®¿é—®æˆ–é¡µé¢æŠ¥é”™
6. **åŠŸèƒ½æ— æ³•ä½¿ç”¨** - ç‰¹å®šåŠŸèƒ½æ— æ³•åŠ è½½æˆ–è¿è¡Œ

---

## ğŸ“¥ é—®é¢˜ 1: æ— æ³•ä¸‹è½½ ZIP æ–‡ä»¶

### ç—‡çŠ¶
- ä¸‹è½½è¿›åº¦å¡ä½
- ä¸‹è½½æ–‡ä»¶å¤§å°ä¸º 0 æˆ–å¾ˆå°
- ä¸‹è½½çš„æ–‡ä»¶æ— æ³•è§£å‹

### è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆ A: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```bash
# åœ¨æ²™ç®±ä¸­æ£€æŸ¥
ls -lh /workspace/projects/reits-assistant.zip
```

#### æ–¹æ¡ˆ B: é‡æ–°ç”Ÿæˆ ZIP æ–‡ä»¶
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd /workspace/projects
rm -f reits-assistant.zip
git archive --format=zip --prefix="reits-assistant/" --output="reits-assistant.zip" HEAD
ls -lh reits-assistant.zip
```

#### æ–¹æ¡ˆ C: ä½¿ç”¨ tar.gz æ ¼å¼ï¼ˆå¦‚æœ ZIP æœ‰é—®é¢˜ï¼‰
```bash
# å¯¼å‡ºä¸º tar.gz
git archive --format=tar.gz --prefix="reits-assistant/" --output="reits-assistant.tar.gz" HEAD
```

#### æ–¹æ¡ˆ D: åˆ†æ‰¹å¯¼å‡ºï¼ˆå¦‚æœæ–‡ä»¶å¤ªå¤§ï¼‰
```bash
# åªå¯¼å‡ºæ ¸å¿ƒæ–‡ä»¶
mkdir -p export-temp
cp -r src/ public/ database/ docs/ export-temp/
cp .coze package.json next.config.js tsconfig.json .env.example README.md PROJECT_GUIDE.md export-temp/
cd export-temp
tar -czf ../reits-assistant-core.tar.gz .
cd ..
```

---

## ğŸ“¦ é—®é¢˜ 2: è§£å‹å¤±è´¥

### ç—‡çŠ¶
- è§£å‹æ—¶æŠ¥é”™
- è§£å‹åæ–‡ä»¶ä¸å®Œæ•´
- è§£å‹åæ–‡ä»¶å¤¹ä¸ºç©º

### è§£å†³æ–¹æ¡ˆ

#### Windows ç³»ç»Ÿ
```bash
# ä½¿ç”¨ 7-Zip æˆ– WinRAR
# å³é”® -> 7-Zip -> æå–åˆ° "reits-assistant"
```

#### Mac/Linux ç³»ç»Ÿ
```bash
# æ£€æŸ¥ ZIP æ–‡ä»¶å®Œæ•´æ€§
unzip -t reits-assistant.zip

# å¼ºåˆ¶è§£å‹
unzip -o reits-assistant.zip

# å¦‚æœä»ç„¶å¤±è´¥ï¼Œä½¿ç”¨ tar.gz
tar -xzf reits-assistant.tar.gz
```

#### éªŒè¯è§£å‹ç»“æœ
```bash
# æ£€æŸ¥å…³é”®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
cd reits-assistant
ls -la
# åº”è¯¥çœ‹åˆ°ï¼šsrc/, package.json, next.config.js, tsconfig.json ç­‰
```

---

## ğŸ“¦ é—®é¢˜ 3: å®‰è£…ä¾èµ–å¤±è´¥

### ç—‡çŠ¶
- `pnpm install` æŠ¥é”™
- ä¾èµ–å®‰è£…ä¸å®Œæ•´
- æç¤º Node.js ç‰ˆæœ¬ä¸å…¼å®¹

### è§£å†³æ–¹æ¡ˆ

#### æ­¥éª¤ 1: æ£€æŸ¥ Node.js ç‰ˆæœ¬
```bash
node --version
# åº”è¯¥æ˜¾ç¤º v24.x.x æˆ–æ›´é«˜

# å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œå‡çº§ Node.js
# è®¿é—® https://nodejs.org ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
```

#### æ­¥éª¤ 2: æ£€æŸ¥ pnpm ç‰ˆæœ¬
```bash
pnpm --version
# åº”è¯¥æ˜¾ç¤º 9.x.x æˆ–æ›´é«˜

# å¦‚æœæ²¡æœ‰å®‰è£… pnpm
npm install -g pnpm
```

#### æ­¥éª¤ 3: æ¸…ç†ç¼“å­˜åé‡æ–°å®‰è£…
```bash
# æ¸…ç† pnpm ç¼“å­˜
pnpm store prune

# åˆ é™¤ node_modules å’Œ lock æ–‡ä»¶
rm -rf node_modules pnpm-lock.yaml

# é‡æ–°å®‰è£…
pnpm install
```

#### æ­¥éª¤ 4: æ£€æŸ¥ç½‘ç»œè¿æ¥
```bash
# å¦‚æœä½¿ç”¨å›½å†…é•œåƒï¼Œé…ç½®æ·˜å®é•œåƒ
pnpm config set registry https://registry.npmmirror.com

# é‡æ–°å®‰è£…
pnpm install
```

#### å¸¸è§é”™è¯¯åŠè§£å†³

**é”™è¯¯ 1: `preinstall` è„šæœ¬å¤±è´¥**
```bash
# é”™è¯¯ä¿¡æ¯: Error: This project requires pnpm

# è§£å†³æ–¹æ¡ˆï¼šå¿…é¡»ä½¿ç”¨ pnpmï¼Œä¸èƒ½ä½¿ç”¨ npm æˆ– yarn
# æ­£ç¡®å‘½ä»¤ï¼š
pnpm install

# é”™è¯¯å‘½ä»¤ï¼š
npm install  # âŒ ä¸è¦ä½¿ç”¨
yarn install # âŒ ä¸è¦ä½¿ç”¨
```

**é”™è¯¯ 2: WASM æ¨¡å—åŠ è½½å¤±è´¥**
```bash
# é”™è¯¯ä¿¡æ¯: Error loading WASM module

# è§£å†³æ–¹æ¡ˆï¼šè¿™æ˜¯é¢„æœŸçš„ï¼Œ@docknetwork/crypto-wasm éœ€è¦é¢å¤–é…ç½®
# å¯ä»¥å…ˆå¿½ç•¥ï¼Œä¸å½±å“å…¶ä»–åŠŸèƒ½
```

**é”™è¯¯ 3: æƒé™é”™è¯¯ï¼ˆMac/Linuxï¼‰**
```bash
# é”™è¯¯ä¿¡æ¯: Permission denied

# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ sudo
sudo pnpm install

# æˆ–è€…ä¿®æ”¹ç›®å½•æƒé™
sudo chown -R $(whoami) ~/.pnpm-store
```

---

## ğŸš€ é—®é¢˜ 4: å¯åŠ¨æœåŠ¡å™¨å¤±è´¥

### ç—‡çŠ¶
- `pnpm dev` æŠ¥é”™
- `coze dev` å‘½ä»¤ä¸å­˜åœ¨
- æœåŠ¡å™¨å¯åŠ¨åç«‹å³å´©æºƒ
- ç«¯å£è¢«å ç”¨

### è§£å†³æ–¹æ¡ˆ

#### æ­¥éª¤ 1: æ£€æŸ¥ç¯å¢ƒå˜é‡
```bash
# ç¡®ä¿å­˜åœ¨ .env.local æ–‡ä»¶
ls -la .env.local

# å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ
cp .env.example .env.local

# ç¼–è¾‘ .env.localï¼Œè‡³å°‘å¡«å†™ä»¥ä¸‹å†…å®¹
nano .env.local
```

**.env.local æœ€å°é…ç½®**ï¼š
```env
# ç™¾åº¦åœ°å›¾ API Keyï¼ˆå¯ä»¥æš‚æ—¶ç•™ç©ºï¼Œéƒ¨åˆ†åŠŸèƒ½ä¼šå—å½±å“ï¼‰
NEXT_PUBLIC_BAIDU_MAP_AK=

# API åŸºç¡€ URL
NEXT_PUBLIC_API_BASE_URL=http://localhost:5000/api

# è°ƒè¯•æ¨¡å¼
NEXT_PUBLIC_DEBUG=true
```

#### æ­¥éª¤ 2: å°è¯•ä¸åŒçš„å¯åŠ¨å‘½ä»¤

**æ–¹æ³• A: ä½¿ç”¨ pnpm**
```bash
pnpm dev
```

**æ–¹æ³• B: ä½¿ç”¨ npx**
```bash
npx next dev
```

**æ–¹æ³• C: ä½¿ç”¨ coze CLI**
```bash
# æ£€æŸ¥ coze CLI æ˜¯å¦å®‰è£…
which coze

# å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå…¨å±€å®‰è£…
npm install -g coze-cli

# å¯åŠ¨
coze dev
```

#### æ­¥éª¤ 3: æ£€æŸ¥ç«¯å£å ç”¨
```bash
# æ£€æŸ¥ 5000 ç«¯å£æ˜¯å¦è¢«å ç”¨
# Windows:
netstat -ano | findstr :5000

# Mac/Linux:
lsof -i :5000

# å¦‚æœç«¯å£è¢«å ç”¨ï¼Œæ€æ­»è¿›ç¨‹
# Windows:
taskkill /PID <è¿›ç¨‹ID> /F

# Mac/Linux:
kill -9 <è¿›ç¨‹ID>

# æˆ–è€…ä½¿ç”¨å…¶ä»–ç«¯å£
PORT=3001 pnpm dev
```

#### æ­¥éª¤ 4: æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
```bash
# å¯åŠ¨æ—¶æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
NODE_ENV=development pnpm dev

# æŸ¥çœ‹æ„å»ºæ—¥å¿—
pnpm build
```

#### å¸¸è§é”™è¯¯åŠè§£å†³

**é”™è¯¯ 1: `Module not found`**
```bash
# é”™è¯¯ä¿¡æ¯: Module not found: Can't resolve 'xxx'

# è§£å†³æ–¹æ¡ˆï¼šé‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules
pnpm install
```

**é”™è¯¯ 2: `SyntaxError`**
```bash
# é”™è¯¯ä¿¡æ¯: SyntaxError: Unexpected token

# è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ TypeScript ç‰ˆæœ¬
pnpm add -D typescript@latest

# é‡æ–°æ„å»º
rm -rf .next
pnpm dev
```

**é”™è¯¯ 3: `EADDRINUSE`**
```bash
# é”™è¯¯ä¿¡æ¯: Error: listen EADDRINUSE: address already in use :::5000

# è§£å†³æ–¹æ¡ˆï¼šç«¯å£è¢«å ç”¨ï¼Œæ€æ­»è¿›ç¨‹æˆ–æ›´æ¢ç«¯å£
lsof -i :5000
kill -9 <PID>
# æˆ–
PORT=3001 pnpm dev
```

**é”™è¯¯ 4: WASM ç¼–è¯‘é”™è¯¯**
```bash
# é”™è¯¯ä¿¡æ¯: WebAssembly compile error

# è§£å†³æ–¹æ¡ˆï¼šè¿™æ˜¯ @docknetwork/crypto-wasm çš„é—®é¢˜
# æš‚æ—¶æ³¨é‡Šæ‰ç›¸å…³ä»£ç ï¼Œä¸å½±å“å…¶ä»–åŠŸèƒ½
```

---

## ğŸŒ é—®é¢˜ 5: é¡µé¢åŠ è½½å¤±è´¥

### ç—‡çŠ¶
- æµè§ˆå™¨æ˜¾ç¤º 404 æˆ– 500 é”™è¯¯
- é¡µé¢ç©ºç™½
- æµè§ˆå™¨æ§åˆ¶å°æŠ¥é”™
- é¡µé¢åŠ è½½å¡ä½

### è§£å†³æ–¹æ¡ˆ

#### æ­¥éª¤ 1: æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
```bash
# æµ‹è¯•æœåŠ¡å™¨å“åº”
curl http://localhost:5000

# åº”è¯¥è¿”å› HTML å†…å®¹
```

#### æ­¥éª¤ 2: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

**æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°**ï¼š
- Chrome/Edge: `F12` æˆ– `Ctrl+Shift+I` (Windows) / `Cmd+Option+I` (Mac)
- æŸ¥çœ‹ Console æ ‡ç­¾é¡µçš„é”™è¯¯ä¿¡æ¯

**å¸¸è§æ§åˆ¶å°é”™è¯¯**ï¼š

**é”™è¯¯ 1: `Failed to fetch`**
```javascript
// é”™è¯¯ä¿¡æ¯: Failed to fetch /api/xxx

// è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ API è·¯ç”±æ˜¯å¦å­˜åœ¨
// æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦è¢«æ‹¦æˆª
```

**é”™è¯¯ 2: `ReferenceError`**
```javascript
// é”™è¯¯ä¿¡æ¯: ReferenceError: xxx is not defined

// è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥å˜é‡æ˜¯å¦æ­£ç¡®å¯¼å…¥
// æ£€æŸ¥æ¨¡å—æ˜¯å¦æ­£ç¡®å¯¼å‡º
```

**é”™è¯¯ 3: `TypeError`**
```javascript
// é”™è¯¯ä¿¡æ¯: TypeError: Cannot read property 'xxx' of undefined

// è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸º null æˆ– undefined
// æ·»åŠ ç©ºå€¼æ£€æŸ¥
```

#### æ­¥éª¤ 3: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
3. é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"
```

#### æ­¥éª¤ 4: å°è¯•å…¶ä»–æµè§ˆå™¨
- Chrome
- Firefox
- Edge
- Safari

#### æ­¥éª¤ 5: æ£€æŸ¥ç½‘ç»œè¿æ¥
```bash
# æµ‹è¯•ç½‘ç»œè¿æ¥
ping google.com

# æµ‹è¯•æœ¬åœ°æœåŠ¡
curl -I http://localhost:5000
```

---

## ğŸ”§ é—®é¢˜ 6: åŠŸèƒ½æ— æ³•ä½¿ç”¨

### ç—‡çŠ¶
- ç‰¹å®šé¡µé¢æ— æ³•è®¿é—®
- åŠŸèƒ½æŒ‰é’®ç‚¹å‡»æ— ååº”
- æ•°æ®æ— æ³•åŠ è½½
- åŠ å¯†åŠŸèƒ½æŠ¥é”™

### è§£å†³æ–¹æ¡ˆ

#### åŠŸèƒ½ 1: åŠ å¯†æµ‹è¯•é¡µé¢æ— æ³•åŠ è½½
```bash
# è®¿é—®åœ°å€
http://localhost:5000/test/encryption

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la pages/test/encryption.tsx

# æ£€æŸ¥è·¯ç”±é…ç½®
cat next.config.js
```

#### åŠŸèƒ½ 2: æ€§èƒ½æµ‹è¯•é¡µé¢æ— æ³•åŠ è½½
```bash
# è®¿é—®åœ°å€
http://localhost:5000/test/performance

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la pages/test/performance.tsx
```

#### åŠŸèƒ½ 3: ç™¾åº¦åœ°å›¾æ— æ³•æ˜¾ç¤º
```bash
# é—®é¢˜ï¼šåœ°å›¾ API Key æœªé…ç½®

# è§£å†³æ–¹æ¡ˆï¼š
# 1. è®¿é—® https://lbsyun.baidu.com/
# 2. æ³¨å†Œå¹¶åˆ›å»ºåº”ç”¨
# 3. è·å– AK
# 4. å¡«å…¥ .env.local

nano .env.local
# æ·»åŠ ï¼š
NEXT_PUBLIC_BAIDU_MAP_AK=ä½ çš„AK

# é‡å¯æœåŠ¡
pnpm dev
```

#### åŠŸèƒ½ 4: BBS ç­¾åå¤±è´¥
```bash
# é—®é¢˜ï¼šBBS ç­¾åå½“å‰æ˜¯æ¨¡æ‹Ÿå®ç°

# è§£å†³æ–¹æ¡ˆï¼š
# è¿™æ˜¯é¢„æœŸçš„ï¼Œéœ€è¦é›†æˆ @docknetwork/crypto-wasm
# è¯¦è§ docs/å®‰å…¨å¢å¼ºä¸æµ‹è¯•å®Œå–„æŒ‡å—.md
```

---

## ğŸ“‹ å®Œæ•´æ•…éšœæ’æŸ¥æµç¨‹

### 1. ç¡®è®¤é—®é¢˜ç±»å‹
- ä¸‹è½½é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 1
- è§£å‹é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 2
- å®‰è£…é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 3
- å¯åŠ¨é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 4
- é¡µé¢é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 5
- åŠŸèƒ½é—®é¢˜ï¼Ÿâ†’ æŸ¥çœ‹é—®é¢˜ 6

### 2. æ”¶é›†é”™è¯¯ä¿¡æ¯
```bash
# è®°å½•å®Œæ•´çš„é”™è¯¯ä¿¡æ¯
pnpm dev > error.log 2>&1
cat error.log
```

### 3. æ£€æŸ¥ç¯å¢ƒ
```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æ£€æŸ¥ pnpm ç‰ˆæœ¬
pnpm --version

# æ£€æŸ¥æ–‡ä»¶ç»“æ„
ls -la
```

### 4. å°è¯•ä¿®å¤
```bash
# æ¸…ç†å¹¶é‡æ–°å®‰è£…
rm -rf node_modules .next
pnpm install

# é‡æ–°å¯åŠ¨
pnpm dev
```

### 5. å¦‚æœä»ç„¶å¤±è´¥
- æä¾›å®Œæ•´çš„é”™è¯¯ä¿¡æ¯
- è¯´æ˜æ“ä½œæ­¥éª¤
- æä¾›ç³»ç»Ÿç¯å¢ƒä¿¡æ¯

---

## ğŸ’¡ å¿«é€Ÿä¿®å¤è„šæœ¬

åˆ›å»º `quick-fix.sh` è„šæœ¬ï¼š

```bash
#!/bin/bash

echo "å¼€å§‹å¿«é€Ÿä¿®å¤..."

# æ¸…ç†
echo "1. æ¸…ç†ç¼“å­˜..."
rm -rf node_modules .next pnpm-lock.yaml

# é‡æ–°å®‰è£…
echo "2. é‡æ–°å®‰è£…ä¾èµ–..."
pnpm install

# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo "3. æ£€æŸ¥ç¯å¢ƒå˜é‡..."
if [ ! -f .env.local ]; then
    cp .env.example .env.local
    echo "å·²åˆ›å»º .env.localï¼Œè¯·ç¼–è¾‘é…ç½®"
fi

# å¯åŠ¨æœåŠ¡
echo "4. å¯åŠ¨æœåŠ¡..."
pnpm dev

echo "ä¿®å¤å®Œæˆï¼"
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
chmod +x quick-fix.sh
./quick-fix.sh
```

---

## ğŸ†˜ ä»ç„¶æ— æ³•è§£å†³ï¼Ÿ

### æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥ä¾¿è¿›ä¸€æ­¥è¯Šæ–­ï¼š

1. **æ“ä½œç³»ç»Ÿ**ï¼šWindows/Mac/Linux
2. **Node.js ç‰ˆæœ¬**ï¼š`node --version`
3. **pnpm ç‰ˆæœ¬**ï¼š`pnpm --version`
4. **é”™è¯¯ä¿¡æ¯**ï¼šå®Œæ•´çš„é”™è¯¯è¾“å‡º
5. **æ“ä½œæ­¥éª¤**ï¼šä½ åšäº†ä»€ä¹ˆ
6. **é¢„æœŸç»“æœ**ï¼šä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ

### è·å–è¯¦ç»†æ—¥å¿—
```bash
# ç”Ÿæˆè¯¦ç»†æ—¥å¿—
pnpm dev > debug.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f debug.log
```

---

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ï¼š`PROJECT_GUIDE.md`
- æŸ¥çœ‹å¿«é€ŸæŒ‡å—ï¼š`QUICK_EXPORT_GUIDE.md`
- æŸ¥çœ‹å®‰å…¨æŒ‡å—ï¼š`docs/å®‰å…¨å¢å¼ºä¸æµ‹è¯•å®Œå–„æŒ‡å—.md`
- æŸ¥çœ‹ä¼˜åŒ–è®¡åˆ’ï¼š`docs/æ ¸å¿ƒæ¨¡å—å®ç°ä¼˜åŒ–è®¡åˆ’.md`
